"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[493],{251:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(504),o=n(871),c=n(774),a=n(184);function i(e){var t=e.movies,n=(0,o.TH)();if(0!==t.length)return(0,a.jsx)("ul",{children:t.map((function(e){var t=e.id,o=e.title;return(0,a.jsx)("li",{children:(0,a.jsx)(r.rU,{to:"/movies/".concat(t),state:{from:{location:n}},children:o})},t)}))});c.dQ.alertMessage("No film found")}},304:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,{default:function(){return k}});var a=n(907);var i=n(181);function u(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(885),l=n(791),f=n(251),d={},v=n(184);function p(e){var t=e.onSubmitFormHandler,n=(0,l.useState)(""),r=(0,s.Z)(n,2),o=r[0],c=r[1];return(0,v.jsxs)("form",{className:d["search-bar"],onSubmit:function(e){e.preventDefault(),t(o),c("")},children:[(0,v.jsx)("input",{type:"text",onChange:function(e){var t=e.target;c(t.value)},value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search film"}),(0,v.jsx)("button",{type:"submit",className:d.button,children:(0,v.jsx)("span",{children:"Search"})})]})}var g=n(869),m=n(666),h=n(590),b=n(774),y=n(504),j=n(871),w="idle",O="resolve",S="reject",x="pending";function k(){var e,t=(0,l.useState)([]),n=(0,s.Z)(t,2),r=n[0],o=n[1],a=(0,l.useState)(null),i=(0,s.Z)(a,2),d=i[0],k=i[1],P=(0,l.useState)(w),Z=(0,s.Z)(P,2),_=Z[0],F=Z[1],M=(0,j.TH)(),C=(0,j.s0)(),D=null!==(e=new URLSearchParams(M.search).get("query"))&&void 0!==e?e:"";(0,l.useEffect)((function(){""!==D&&(F(x),m.ZP.fetchByName(D).then((function(e){var t=e.results;o((function(e){return[].concat(u(e),u((0,h.P)(t)))})),F(O)})).catch((function(e){F(S),k(e)})))}),[D]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p,{onSubmitFormHandler:function(e){""!==e.trim()?(o([]),F(w),k(null),function(e){var t={query:e.toLowerCase()};C(c(c({},M),{},{search:(0,y.fW)(t).toString()}))}(e)):b.dQ.alertMessage("Input valid value")}}),_===x&&(0,v.jsx)(g.Z,{}),_===O&&(0,v.jsx)(f.Z,{movies:r}),_===S&&b.dQ.errorMessage(d)]})}},666:function(e,t,n){n.d(t,{ZP:function(){return f}});var r=n(861),o=n(757),c=n.n(o),a={get:function(e){return(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(!(n=t.sent).ok){t.next=7;break}return t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",Promise.reject(new Error("Not found")));case 8:case"end":return t.stop()}}),t)})))()}},i="70c5c640dcd47438a9460ce1b8e1a5b1",u="https://api.themoviedb.org/3",s="en-US",l={fetchTrendingMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="".concat(u,"/trending/movie/day?api_key=").concat(i,"&page=").concat(e);return a.get(t)},fetchByName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r="".concat(u,"/search/movie?api_key=").concat(i,"&language=").concat(n,"&page=").concat(t,"&include_adult=false&query=").concat(e);return a.get(r)},fetchFilmDetails:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n="".concat(u,"/movie/").concat(e,"?api_key=").concat(i,"&language=").concat(t);return a.get(n)},fetchFilmReviews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n="".concat(u,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&language=").concat(t);return a.get(n)},fetchFilmCredits:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n="".concat(u,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=").concat(t);return a.get(n)}},f=l},590:function(e,t,n){function r(e){return e.map((function(e){return{id:e.id,title:e.title}}))}n.d(t,{P:function(){return r}})},774:function(e,t,n){n.d(t,{dQ:function(){return r}});var r={successMessage:function(e){console.log(e)},alertMessage:function(e){console.log(e)},errorMessage:function(e){console.log(e)}}}}]);
//# sourceMappingURL=movies-page.b72a4a2e.chunk.js.map